install.packages("RGtk2")
warnings()
library(rattle)
library(RGtk2)
library(rattle)
library(swirl)
library()
update.packages()
install.packages("rattle")
library(rattle)
rattle()
library(rattle)
rattle()
library(rattle)
rattle()
rattle()
rattle()
rattle()
library(rattle)
rattle()
library(rattle)
rattle()
library(rattle)
rattle()
library(rattle)
rattle()
names(mylist) <- c("first", "second", "third")
# Split by space, then unlist
words <- unlist(strsplit(tolower(mystr), " ", fixed = TRUE))
mylist <- list("Sam", c(13, -0.1, 1.3), c(TRUE, FALSE))
print(mylist)
str(mylist)
length(mylist)
print(mylist[1])
print(class(mylist[1]))
print(mylist[c(1, 3)])
print(class(mylist[c(1, 3)]))
print(mylist[[2]])
print(class(mylist[[2]]))
# This gets the third piece of mylist[[2]]
print(mylist[[c(2, 3)]])
# And this gets the second piece of mylist[[3]]
print(mylist[[c(3, 2)]])
# This will produce an error in this case. Why?
# print(mylist[[1:2]])
names(mylist) <- c("first", "second", "third")
print(mylist)
mylist <- list(first = "Sam", second = c(13, -0.1, 1.3), third = c(TRUE, FALSE))
print(names(mylist))
identical(mylist$second, mylist[[2]])
identical(mylist[["second"]], mylist[[2]])
mylist$fourth <- c("Iowa", "Georgia")
mylist[[5]] <- c(-1, 0, 1, 2)
length(mylist)
mylist$fourth <- NULL
print(mylist)
print(unlist(mylist))
df <- readr::read_csv("des_moines_housing_with_latlon.csv")
df$city <- factor(df$city)
mylist <- split(df, df$city)
print(class(mylist))
print(names(mylist))
length(mylist)
print(class(mylist$Altoona))
print(names(mylist$Altoona))
nrow(mylist$Altoona)
# Get list of HTML tables from URL
suppressPackageStartupMessages(library(rvest))
url <- "https://en.wikipedia.org/wiki/List_of_national_capitals_in_alphabetical_order"
tb <- html_table(read_html(url), fill = TRUE)
print(class(tb))
print(class(tb[[2]]))
mystr <- c("The quick brown fox jumps over the lazy dog. All letters.",
"A dog, a panic in a pagoda.")
print(mystr)
# Search for "dog", which appears in position 1 and 2 of mystr
grep("dog", mystr, fixed = TRUE)
# Search for "pagoda", which appears in position 2 only
grep("pagoda", mystr, fixed = TRUE)
# Search for "all", which appears nowhere
grep("all", mystr, fixed = TRUE)
# This is a case-insensitive search with a match in the first position
grep("all", tolower(mystr), fixed = TRUE)
grepl(pattern = "dog", x = mystr, fixed = TRUE) # Search for "dog"
grepl("pagoda", mystr, fixed = TRUE)
grepl("all", mystr, fixed = TRUE)
grepl("all", tolower(mystr), fixed = TRUE)
nchar(mystr)
# Extract positions 10 to 19
print(substr(mystr, 10, 19))
# Extract positions 25 to 35. Note that we get just a few characters if
# length is less than 35
print(substr(mystr, 25, 35))
# Split by period
mylist <- strsplit(mystr, ".", fixed = TRUE)
print(mylist)
# Split by space, then unlist
words <- unlist(strsplit(tolower(mystr), " ", fixed = TRUE))
print(words)
print(paste(words[1], words[2], sep = " "))
print(paste(words[1], words[2], sep = ""))
print(paste(words[1], words[2], sep = "."))
print(paste(words[1], "and", words[2], "but", words[3], sep = " "))
print(sprintf("%s %s", words[1], words[2]))
print(sprintf("%s%s", words[1], words[2]))
print(sprintf("%s.%s", words[1], words[2]))
print(sprintf("%s and %s but %s", words[1], words[2], words[3]))
setwd("C:/Users/zmcda/OneDrive - University of Iowa/University of Iowa/Thesis/NFL_officials_analysis")
load("C:/Users/zmcda/OneDrive - University of Iowa/University of Iowa/Thesis/NFL_officials_analysis/game_ref_df.rda")
View(game_ref_df)
###############################################################################
## adding variables highpenalty, home_win, and home advantage
################################################################################
load("game_with_total_experience.rda")
View(game_df)
game_df <- group_by(game_df, home_team)
################################################################################
#Team Level analysis
################################################################################
library(dplyr)
game_df <- group_by(game_df, home_team)
summ <- summarize(game_df, season_penalties = sum(home_penalties))
View(summ)
View(summ)
Total_Team_Penalties <- summarize(game_df, season_penalties = sum(home_penalties))
Total_Team_Penalties <- summarize(game_df, season_home_penalties = sum(home_penalties))
Total_Team_Penalties <- summarize(game_df, total_home_penalties = sum(home_penalties))
game_df <- group_by(game_df, away_team)
Total_Away_Penalties <- summarize(game_df, total_away_penalties = sum(away_penalties))
View(Total_Away_Penalties)
View(Total_Team_Penalties)
rm(list = ls())
###############################################################################
## adding variables highpenalty, home_win, and home advantage
################################################################################
load("game_with_total_experience.rda")
################################################################################
#Team Level analysis
################################################################################
library(dplyr)
game_df <- group_by(game_df, home_team)
game_df$team_name <- game_df$home_team
View(game_df)
Total_Home_Penalties <- summarize(game_df, total_home_penalties = sum(home_penalties))
View(Total_Home_Penalties)
rm(list = ls())
###############################################################################
## adding variables highpenalty, home_win, and home advantage
################################################################################
load("game_with_total_experience.rda")
################################################################################
#Team Level analysis
################################################################################
library(dplyr)
game_df$team_name <- game_df$home_team
game_df <- group_by(game_df, team_name)
Total_Home_Penalties <- summarize(game_df, total_home_penalties = sum(home_penalties))
View(Total_Home_Penalties)
game_df$team_name <- game_df$away_team
View(game_df)
game_df <- group_by(game_df, team_name)
Total_Away_Penalties <- summarize(game_df, total_away_penalties = sum(away_penalties))
team_penalties <- merge(Total_Home_Penalties, Total_Away_Penalties, by = "team_name")
View(team_penalties)
ungroup(game_df)
group_by(game_df, year)
game_df <- ungroup(game_df)
game_df <- group_by(game_df, year)
View(game_df)
years_total <- summarize(game_df, total_season_penalties = sum(total_penalties))
View(years_total)
years_home <- summarize(game_df, total_home_penalites = sum(home_penalties))
View(years_home)
game_df <- ungroup(game_df)
game_df <- group_by(game_df, year)
years_away <- summarize(game_df, total_home_penalites = sum(away_penalties))
years_penalties <- merge(years_away, years_home, by = "year")
View(years_penalties)
game_df <- ungroup(game_df)
game_df <- group_by(game_df, year)
years_home <- summarize(game_df, total_home_penalites = sum(home_penalties))
game_df <- ungroup(game_df)
game_df <- group_by(game_df, year)
years_home <- summarize(game_df, total_home_penalites = sum(home_penalties))
game_df <- ungroup(game_df)
game_df <- group_by(game_df, year)
years_away <- summarize(game_df, total_away_penalites = sum(away_penalties))
years_penalties <- merge(years_away, years_home, by = "year")
View(years_penalties)
game_df <- ungroup(game_df)
game_df <- group_by(game_df, year)
years_home <- summarize(game_df, total_home_penalites = sum(home_penalties))
game_df <- ungroup(game_df)
game_df <- group_by(game_df, year)
years_away <- summarize(game_df, total_away_penalites = sum(away_penalties))
years_penalties <- merge(years_home, years_away, by = "year")
View(years_penalties)
years_penalties$total_penalties <- sum(years_penalties$total_home_penalites,
years_penalties$total_away_penalites)
View(years_penalties)
View(years_penalties)
game_df <- group_by(game_df, year)
years_total <- summarize(game_df, total_penalites = sum(total_penalties))
years_penalties <- merge(years_penalties, years_total, by = 'year')
View(years_penalties)
rm(list = ls())
###############################################################################
## adding variables highpenalty, home_win, and home advantage
################################################################################
load("game_with_total_experience.rda")
################################################################################
#Team Level analysis
################################################################################
library(dplyr)
game_df$team_name <- game_df$home_team
game_df <- group_by(game_df, team_name)
Total_Home_Penalties <- summarize(game_df, total_home_penalties = sum(home_penalties))
game_df$team_name <- game_df$away_team
game_df <- group_by(game_df, team_name)
Total_Away_Penalties <- summarize(game_df, total_away_penalties = sum(away_penalties))
team_penalties <- merge(Total_Home_Penalties, Total_Away_Penalties, by = "team_name")
game_df <- ungroup(game_df)
game_df <- group_by(game_df, year)
years_home <- summarize(game_df, total_home_penalites = sum(home_penalties))
game_df <- ungroup(game_df)
game_df <- group_by(game_df, year)
years_away <- summarize(game_df, total_away_penalites = sum(away_penalties))
years_penalties <- merge(years_home, years_away, by = "year")
game_df <- group_by(game_df, year)
years_total <- summarize(game_df, total_penalites = sum(total_penalties))
years_penalties <- merge(years_penalties, years_total, by = 'year')
View(years_penalties)
View(game_df)
View(team_penalties)
?group_by
game_df <- group_by(game_df, home_team)
home_team_year <- summarize(game_df, year)
View(home_team_year)
?distinct
home_team_year <- distinct(home_team_year, home_team)
game_df <- group_by(game_df, home_team)
home_team_year <- summarize(game_df, year)
home_team_year <- distinct(home_team_year, year)
game_df <- group_by(game_df, team_name, year)
df <- summarize(game_df, total_penalties)
View(df)
game_df <- group_by(game_df, team_name, year)
df <- summarize(game_df, total_home_penalties = sum(home_penalties),
total_away_penalties = sum(away_penalites))
game_df <- group_by(game_df, team_name, year)
df <- summarize(game_df, total_home_penalties = sum(home_penalties),
total_away_penalties = sum(away_penalties))
View(df)
team_penalties_by_year <- summarize(game_df, total_home_penalties = sum(home_penalties),
total_away_penalties = sum(away_penalties))
rm(list = ls())
################################################################################
#Team Level analysis
################################################################################
load("game_with_total_experience.rda")
library(dplyr)
game_df$team_name <- game_df$home_team
game_df <- group_by(game_df, team_name)
Total_Home_Penalties <- summarize(game_df, total_home_penalties = sum(home_penalties))
game_df$team_name <- game_df$away_team
game_df <- group_by(game_df, team_name)
Total_Away_Penalties <- summarize(game_df, total_away_penalties = sum(away_penalties))
team_penalties <- merge(Total_Home_Penalties, Total_Away_Penalties, by = "team_name")
game_df <- ungroup(game_df)
game_df <- group_by(game_df, year)
years_home <- summarize(game_df, total_home_penalites = sum(home_penalties))
game_df <- ungroup(game_df)
game_df <- group_by(game_df, year)
years_away <- summarize(game_df, total_away_penalites = sum(away_penalties))
years_penalties <- merge(years_home, years_away, by = "year")
game_df <- group_by(game_df, year)
years_total <- summarize(game_df, total_penalties = sum(total_penalties))
years_penalties <- merge(years_penalties, years_total, by = 'year')
game_df <- group_by(game_df, team_name, year)
team_penalties_by_year <- summarize(game_df, total_home_penalties = sum(home_penalties),
total_away_penalties = sum(away_penalties))
View(team_penalties)
View(team_penalties_by_year)
View(years_penalties)
View(team_penalties)
View(team_penalties_by_year)
View(game_df)
team_penalties_by_year <- summarize(game_df, total_home_penalties = sum(home_penalties),
total_away_penalties = sum(away_penalties),
home_yards = sum(home_yards), away_yards = sum(away_yards))
View(team_penalties_by_year)
View(years_penalties)
load("C:/Users/zmcda/OneDrive - University of Iowa/University of Iowa/Thesis/NFL_officials_analysis/game_ref_df.rda")
View(game_ref_df)
View(game_ref_df)
View(team_penalties)
rm(list = ls())
################################################################################
#Team Level analysis
################################################################################
load("game_with_total_experience.rda")
library(dplyr)
################################################################################
game_df$team_name <- game_df$home_team
################################################################################
game_df$team_name <- game_df$home_team
game_df <- group_by(game_df, team_name, year)
home_penalties_by_year <- summarize(game_df, total_home_penalties = sum(home_penalties),
home_yards = sum(home_yards))
View(home_penalties_by_year)
game_df$team_name <- game_df$away_team
away_penalties_by_year <- summarize(game_df, total_away_penalties = sum(away_penalties),
away_yards = sum(away_yards))
View(away_penalties_by_year)
View(home_penalties_by_year)
team_penalties_by_year <- merge(home_penalties_by_year, away_penalties_by_year,
by = "team_name")
View(team_penalties_by_year)
team_penalties_by_year <- select(team_penalties_by_year, -year.y)
team_penalties_by_year <- rename(team_penalties_by_year, year = year.x)
save(team_penalties_by_year, file = "team_penalties_by_year.rda")
save(team_penalties_by_year, file = "team_penalties_by_year.csv")
View(team_penalties_by_year)
View(away_penalties_by_year)
team_penalties_by_year <- merge(home_penalties_by_year, away_penalties_by_year,
by = "team_name" & "year")
View(home_penalties_by_year)
View(away_penalties_by_year)
away_penalties_by_year <- select(away_penalties_by_year, -year)
team_penalties_by_year <- merge(home_penalties_by_year, away_penalties_by_year,
by = "team_name")
################################################################################
#Team penalties by year - home & away
################################################################################
game_df$team_name <- game_df$home_team
game_df <- group_by(game_df, team_name, year)
home_penalties_by_year <- summarize(game_df, total_home_penalties = sum(home_penalties),
home_yards = sum(home_yards))
game_df$team_name <- game_df$away_team
game_df <- group_by(game_df, team_name, year)
away_penalties_by_year <- summarize(game_df, total_away_penalties = sum(away_penalties),
away_yards = sum(away_yards))
team_penalties_by_year <- merge(home_penalties_by_year, away_penalties_by_year,
by = c("team_name", "year"))
View(team_penalties_by_year)
save(team_penalties_by_year, file = "team_penalties_by_year.rda")
save(team_penalties_by_year, file = "team_penalties_by_year.csv")
